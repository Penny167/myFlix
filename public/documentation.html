<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>documentation</title>
</head>

<body>
  <h1>myFlixapi</h1>
  <h2>Overview</h2>
  <p>The myFlixapi is a REST API that supports the "myFlix" movie web application, by providing
    access to the server-side database. This contains information about movies, including: titles, movie descriptions
    and information about genres and directors.
  </p>
  <h2>Table of API endpoints</h2>
  <p>The following table lists all available endpoints including: a high level description of the data available,
    URL, http method, format required for requests and format of responses. Request parameters within the URL are
    indicated with square brackets.  
  </p>
  <table>
    <tr>
      <th>Description</th>
      <th>URL</th>
      <th>HTTP method</th>
      <th>Request body data format</th>
      <th>Response body data format </th>
    </tr>
    <tr>
      <td>Landing page</td>
      <td>/</td>
      <td>GET</td>
      <td>No request body required</td>
      <td>Welcome message</td>
    </tr>
    <tr>
      <td>Returns a list of all movies</td>
      <td>/movies</td>
      <td>GET</td>
      <td>No request body required</td>
      <td>JSON object with available data on all movies</td>
    </tr>
    <tr>
      <td>Returns data about a single movie by title</td>
      <td>/movies/[Title]</td>
      <td>GET</td>
      <td>No request body required</td>
      <td>JSON object with available data about the movie requested:
        {
        id:
        Title:
        Description:
        Genre: {
          Name:
          Description:
        }
        Director: {
          Name:
          Bio:
          Birth:
          Death:
        }
        ImagePath:
        Featured:
        }
        </td>
    </tr>
    <tr>
      <td>Returns the description of a movie genre searched for by name</td>
      <td>/movies/genre/[Name]</td>
      <td>GET</td>
      <td>No request body required</td>
      <td>A text message returning the description of the genre selected</td>
    </tr>
    <tr>
      <td>Returns details about a director searched for by name</td>
      <td>/movies/director/[Name]</td>
      <td>GET</td>
      <td>No request body required</td>
      <td>JSON object with details about the director requested:
        {
        Name:
        Bio:
        Birth:
        Death:
        }
      </td>
    </tr>
    <tr>
      <td>Registers a new user</td>
      <td>/users</td>
      <td>POST</td>
      <td>A JSON object with data about the user to be registered:
        {
        Username:
        Password:
        Email:
        Birthday:
        }
      </td>
      <td>A JSON object with the new user’s details:
        {
        _id:
        Username:
        Password:
        Email:
        Birthday:
        FavouriteMovies: []
        }
      </td>
    </tr>
    <tr>
      <td>Logs in a registered user</td>
      <td>/login</td>
      <td>POST</td>
      <td>No request body required; user enters username and password into fields provided</td>
      <td>JSON object with user's details and a json web token for authentication of all subsequent requests whilst logged in</td>
    </tr>
    <tr>
      <td>Updates an existing user's details</td>
      <td>/users/[Username]</td>
      <td>PUT</td>
      <td>A JSON object with the following fields completed, with either new values or existing values for fields that remain unchanged:
        {
        Username:
        Password:
        Email:
        Birthday:
      </td>
      <td>A JSON object with the user’s details reflecting any changes made by the request:
        {
        _id:
        Username:
        Password:
        Email:
        Birthday:
        FavouriteMovies: []
        }
      </td>
    </tr>
    <tr>
      <td>Adds a movie to a user's list of favourites</td>
      <td>/users/[Username]/[MovieID]</td>
      <td>PUT</td>
      <td>No request body required</td>
      <td>A JSON object with the user's updated list of favourites: []</td>
    </tr>
    <tr>
      <td>Removes a movie from a user's list of favourites</td>
      <td>/users/[Username]/[MovieID]</td>
      <td>DELETE</td>
      <td>No request body required</td>
      <td>A JSON object with the user's updated list of favourites: []</td>
    </tr>
    <tr>
      <td>Deregisters an existing user</td>
      <td>/users/[Username]</td>
      <td>DELETE</td>
      <td>No request body required</td>
      <td>A text message confirming that the user has been deregistered</td>
    </tr>
  </table>  
</body>

</html>